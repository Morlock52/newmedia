# =============================================================================
# MEDIA SERVER STACK ENVIRONMENT VARIABLES - 2025 EDITION
# =============================================================================
# Complete configuration for Jellyfin/Plex/Emby + Arr Stack + Downloads + More
# Copy this file to .env and customize your values
# =============================================================================

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================
# User and Group IDs for proper file permissions (find with: id username)
PUID=1000
PGID=1000
# Timezone (find yours: timedatectl list-timezones)
TZ=America/New_York
# Default umask for file permissions
UMASK=022

# =============================================================================
# DOCKER NETWORK & VOLUMES
# =============================================================================
# Base paths for Docker volumes (adjust to your setup)
DOCKER_ROOT=/opt/docker
CONFIG_ROOT=${DOCKER_ROOT}/config
DATA_ROOT=/mnt/media
DOWNLOADS_ROOT=${DATA_ROOT}/downloads

# Media Library Paths
MOVIES_PATH=${DATA_ROOT}/movies
TV_SHOWS_PATH=${DATA_ROOT}/tv
MUSIC_PATH=${DATA_ROOT}/music
BOOKS_PATH=${DATA_ROOT}/books
PHOTOS_PATH=${DATA_ROOT}/photos

# Download Paths (shared between download clients and *arr apps)
COMPLETE_DOWNLOADS=${DOWNLOADS_ROOT}/complete
INCOMPLETE_DOWNLOADS=${DOWNLOADS_ROOT}/incomplete
WATCH_DOWNLOADS=${DOWNLOADS_ROOT}/watch

# Docker network name for internal communication
DOCKER_NETWORK=mediaserver

# =============================================================================
# JELLYFIN CONFIGURATION (Recommended for 2025)
# =============================================================================
# Main configuration
JELLYFIN_PUBLISHED_SERVER_URL=http://192.168.1.100:8096
JELLYFIN_CONFIG_DIR=${CONFIG_ROOT}/jellyfin
JELLYFIN_CACHE_DIR=${CONFIG_ROOT}/jellyfin/cache
JELLYFIN_DATA_DIR=${CONFIG_ROOT}/jellyfin/data
JELLYFIN_LOG_DIR=${CONFIG_ROOT}/jellyfin/logs

# Hardware acceleration (uncomment if using NVIDIA GPU)
# NVIDIA_VISIBLE_DEVICES=all
# NVIDIA_DRIVER_CAPABILITIES=compute,video,utility

# =============================================================================
# PLEX CONFIGURATION (Alternative to Jellyfin)
# =============================================================================
PLEX_CLAIM=claim-xxxxxxxxxxxxxxxxxx
PLEX_UID=${PUID}
PLEX_GID=${PGID}
PLEX_ADVERTISE_IP=http://192.168.1.100:32400/
PLEX_ALLOWED_NETWORKS=192.168.1.0/24
PLEX_CONFIG=${CONFIG_ROOT}/plex
PLEX_TRANSCODE=/tmp/plex-transcode

# =============================================================================
# EMBY CONFIGURATION (Alternative to Jellyfin/Plex)
# =============================================================================
EMBY_UID=${PUID}
EMBY_GID=${PGID}
EMBY_CONFIG=${CONFIG_ROOT}/emby

# =============================================================================
# PROWLARR CONFIGURATION (Indexer Manager)
# =============================================================================
PROWLARR_PORT=9696
PROWLARR_CONFIG=${CONFIG_ROOT}/prowlarr
# API Key (generate after first run in Settings > Security)
PROWLARR_API_KEY=your-prowlarr-api-key-here
PROWLARR_BASE_URL=/prowlarr

# =============================================================================
# SONARR CONFIGURATION (TV Shows)
# =============================================================================
SONARR_PORT=8989
SONARR_CONFIG=${CONFIG_ROOT}/sonarr
# API Key (generate after first run in Settings > Security)
SONARR_API_KEY=your-sonarr-api-key-here
SONARR_BASE_URL=/sonarr

# =============================================================================
# RADARR CONFIGURATION (Movies)
# =============================================================================
RADARR_PORT=7878
RADARR_CONFIG=${CONFIG_ROOT}/radarr
# API Key (generate after first run in Settings > Security)
RADARR_API_KEY=your-radarr-api-key-here
RADARR_BASE_URL=/radarr

# =============================================================================
# LIDARR CONFIGURATION (Music)
# =============================================================================
LIDARR_PORT=8686
LIDARR_CONFIG=${CONFIG_ROOT}/lidarr
# API Key (generate after first run in Settings > Security)
LIDARR_API_KEY=your-lidarr-api-key-here
LIDARR_BASE_URL=/lidarr

# =============================================================================
# READARR CONFIGURATION (Books/Audiobooks)
# =============================================================================
READARR_PORT=8787
READARR_CONFIG=${CONFIG_ROOT}/readarr
# API Key (generate after first run in Settings > Security)
READARR_API_KEY=your-readarr-api-key-here
READARR_BASE_URL=/readarr

# =============================================================================
# BAZARR CONFIGURATION (Subtitles)
# =============================================================================
BAZARR_PORT=6767
BAZARR_CONFIG=${CONFIG_ROOT}/bazarr
# API Key (generate after first run in Settings > Security)
BAZARR_API_KEY=your-bazarr-api-key-here
BAZARR_BASE_URL=/bazarr

# =============================================================================
# QBITTORRENT CONFIGURATION (Preferred Download Client)
# =============================================================================
QBITTORRENT_PORT=8080
QBITTORRENT_CONFIG=${CONFIG_ROOT}/qbittorrent
# WebUI credentials (default: admin/adminadmin for old versions, temp password for new)
QBITTORRENT_USERNAME=admin
# Note: qBittorrent generates temporary passwords - check logs on first run
# Set permanent password in WebUI after first login
QBITTORRENT_WEBUI_PORT=8080

# =============================================================================
# TRANSMISSION CONFIGURATION (Alternative Download Client)
# =============================================================================
TRANSMISSION_PORT=9091
TRANSMISSION_CONFIG=${CONFIG_ROOT}/transmission
TRANSMISSION_USERNAME=admin
TRANSMISSION_PASSWORD=your-secure-password-here
TRANSMISSION_PEER_PORT=51413

# =============================================================================
# SABNZBD CONFIGURATION (Usenet Download Client)
# =============================================================================
SABNZBD_PORT=8090
SABNZBD_CONFIG=${CONFIG_ROOT}/sabnzbd
# API Key (generate after first setup)
SABNZBD_API_KEY=your-sabnzbd-api-key-here

# =============================================================================
# OVERSEERR CONFIGURATION (Request Management for Plex)
# =============================================================================
OVERSEERR_PORT=5055
OVERSEERR_CONFIG=${CONFIG_ROOT}/overseerr
# Log level (info, debug, warn, error)
OVERSEERR_LOG_LEVEL=info
# API Key (found in Settings > General after setup)
OVERSEERR_API_KEY=your-overseerr-api-key-here

# =============================================================================
# JELLYSEERR CONFIGURATION (Request Management for Jellyfin/Emby)
# =============================================================================
JELLYSEERR_PORT=5055
JELLYSEERR_CONFIG=${CONFIG_ROOT}/jellyseerr
JELLYSEERR_LOG_LEVEL=info
# API Key can be set via environment variable (2025 feature)
JELLYSEERR_API_KEY=your-jellyseerr-api-key-here

# =============================================================================
# TAUTULLI CONFIGURATION (Plex Analytics)
# =============================================================================
TAUTULLI_PORT=8181
TAUTULLI_CONFIG=${CONFIG_ROOT}/tautulli
# Note: API key must be configured in web interface after first run

# =============================================================================
# HOMEPAGE/HOMARR CONFIGURATION (Dashboard)
# =============================================================================
HOMEPAGE_PORT=3000
HOMEPAGE_CONFIG=${CONFIG_ROOT}/homepage
HOMARR_PORT=7575
HOMARR_CONFIG=${CONFIG_ROOT}/homarr

# =============================================================================
# PORTAINER CONFIGURATION (Docker Management)
# =============================================================================
PORTAINER_PORT=9000
PORTAINER_DATA=${CONFIG_ROOT}/portainer

# =============================================================================
# VPN CONFIGURATION (Optional but Recommended)
# =============================================================================
# For VPN containers like Gluetun
VPN_SERVICE_PROVIDER=nordvpn
VPN_TYPE=openvpn
VPN_USERNAME=your-vpn-username
VPN_PASSWORD=your-vpn-password
VPN_SERVER_COUNTRIES=United States
VPN_PORT_FORWARDING=on
VPN_PORT_FORWARDING_LISTENING_PORT=6881

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================

# Discord Webhook Configuration
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN
DISCORD_WEBHOOK_ID=your-webhook-id
DISCORD_WEBHOOK_TOKEN=your-webhook-token

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-telegram-chat-id

# Pushover Configuration
PUSHOVER_USER_KEY=your-pushover-user-key
PUSHOVER_API_TOKEN=your-pushover-api-token

# Email SMTP Configuration
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=your-email@gmail.com
SMTP_TO=recipient@example.com

# =============================================================================
# WATCHTOWER CONFIGURATION (Auto-Updates)
# =============================================================================
WATCHTOWER_SCHEDULE=0 0 4 * * *
WATCHTOWER_CLEANUP=true
WATCHTOWER_INCLUDE_STOPPED=true
WATCHTOWER_NOTIFICATIONS=slack discord
WATCHTOWER_NOTIFICATION_URL=discord://webhook-token@webhook-id
WATCHTOWER_NOTIFICATIONS_LEVEL=info
WATCHTOWER_NOTIFICATIONS_HOSTNAME=MediaServer

# =============================================================================
# DATABASE CONFIGURATION (Optional - for advanced setups)
# =============================================================================
# PostgreSQL (for services that support it)
POSTGRES_DB=mediaserver
POSTGRES_USER=mediaserver
POSTGRES_PASSWORD=your-secure-db-password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# MySQL/MariaDB (alternative)
MYSQL_ROOT_PASSWORD=your-secure-root-password
MYSQL_DATABASE=mediaserver
MYSQL_USER=mediaserver
MYSQL_PASSWORD=your-secure-db-password

# Redis (for caching)
REDIS_PASSWORD=your-redis-password

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# Authelia (SSO/2FA)
AUTHELIA_JWT_SECRET=your-jwt-secret-here
AUTHELIA_SESSION_SECRET=your-session-secret-here
AUTHELIA_STORAGE_ENCRYPTION_KEY=your-32-character-encryption-key

# Cloudflare (if using Cloudflare tunnels)
CLOUDFLARE_TUNNEL_TOKEN=your-cloudflare-tunnel-token

# =============================================================================
# REVERSE PROXY CONFIGURATION
# =============================================================================
# Traefik
TRAEFIK_API_DASHBOARD=true
TRAEFIK_API_INSECURE=false
TRAEFIK_CERTIFICATESRESOLVERS_LETSENCRYPT_ACME_EMAIL=your-email@example.com

# Nginx Proxy Manager
NPM_PORT=81
NPM_CONFIG=${CONFIG_ROOT}/nginx-proxy-manager

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=/mnt/backup
BACKUP_ENCRYPTION_PASSWORD=your-backup-encryption-password

# =============================================================================
# MONITORING & METRICS
# =============================================================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_CONFIG=${CONFIG_ROOT}/prometheus

# Grafana
GRAFANA_PORT=3001
GRAFANA_CONFIG=${CONFIG_ROOT}/grafana
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=your-grafana-password

# Exportarr (Metrics for *arr apps)
EXPORTARR_PORT=9707
EXPORTARR_CONFIG=${CONFIG_ROOT}/exportarr

# =============================================================================
# ADDITIONAL SERVICES
# =============================================================================
# FlareSolverr (Cloudflare bypass)
FLARESOLVERR_PORT=8191
FLARESOLVERR_LOG_LEVEL=info

# Recyclarr (Trash Guides automation)
RECYCLARR_CONFIG=${CONFIG_ROOT}/recyclarr

# Unpackerr (Automatic archive extraction)
UNPACKERR_CONFIG=${CONFIG_ROOT}/unpackerr

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Set to true for development environments
DEBUG_MODE=false
LOG_LEVEL=info

# =============================================================================
# NOTES FOR 2025 SETUP
# =============================================================================
# 1. Jellyfin is recommended over Plex for 2025 due to being fully open-source
# 2. qBittorrent is preferred over Transmission for better performance
# 3. Prowlarr has replaced Jackett for indexer management
# 4. Most API keys must be generated after first container startup
# 5. Use Jellyseerr with Jellyfin, Overseerr with Plex
# 6. Always use VPN for download clients in production
# 7. Set up proper monitoring with Prometheus/Grafana for production use
# 8. Use reverse proxy (Traefik/NPM) for external access
# 9. Implement proper backup strategy for configuration data
# 10. Consider using Docker secrets for sensitive values in production
# =============================================================================